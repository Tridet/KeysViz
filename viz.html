<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width,initial-scale=1" name="viewport">
  <meta content="description" name="description">
  <meta name="google" content="notranslate" />
  <meta content="Mashup templates have been developped by Orson.io team" name="author">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="functions/barchart_right.js"></script>
  <script src="functions/barchart_left.js"></script>
  <script src="functions/stroke2freq.js"></script>
  <script src="functions/filter_data.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <style>
    body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0;}
  </style>

  <!-- Disable tap highlight on IE -->
  <meta name="msapplication-tap-highlight" content="no">
  
  <link rel="apple-touch-icon" sizes="180x180" href="./assets/apple-icon-180x180.png">
  <link href="./assets/favicon.ico" rel="icon">

  <title>KeysViz Project</title>  

<link href="./main.3f6952e4.css" rel="stylesheet"></head>

<body>
 <!-- Add your content of header -->
<header>
  <nav class="navbar  navbar-fixed-top navbar-default">
    <div class="container">
      <div class="collapse navbar-collapse" id="navbar-collapse">
        <ul class="nav navbar-nav ">
          <li><a href="./index.html" title="">01 : Home</a></li>
          <li><a href="./viz.html" title="">02 : Visualizations</a></li>
          <li><a href="./about.html" title="">03 : About the project</a></li>
        </ul>
      </div> 
    </div>
  </nav>
</header>

<div>

  <form id="form" align="right" position="relative">
      </br>
      &nbsp;Sorting layout:
      <label><input type="radio" name="layout" value="descending" checked> Frequency&nbsp;</label>
      <label><input type="radio" name="layout" value="alphabetical"> Alphabetical &nbsp;</label>
  </form>

    <!--
  <select class="sort" text-align="right" position="relative">
      <option selected="" value="value-descending">Frequency</option>
      <option value="name-ascending">Alphabetical</option>
  </select>
  -->

  <script>

  var topHeight = Math.max(document.getElementById("navbar-collapse").offsetHeight,document.getElementById("form").offsetHeight);
  var outerWidth = $(window).width();//window.innerWidth
  var outerHeight = $(window).height()-topHeight;//window.innerHeight-topbarHeight;
  var margin = {top: 0.04*outerWidth, right: 0.06*outerWidth, bottom:0.04*outerWidth, left: 0.06*outerWidth};

  var innerWidth = outerWidth/2 - margin.left - margin.right;
  var innerHeight = outerHeight - margin.top - margin.bottom;

  //Create the SVG
  var svg = d3.select("body").append("svg")
  .attr("width", outerWidth)
  .attr("height", outerHeight);

  var g = svg.append("g")
  .attr("transform", "translate(" + margin.right*0.6 + "," + (margin.top) + ")");

  var g1 = svg.append("g")
  .attr("transform", "translate(" + (outerWidth/2 + margin.left) + "," +  (margin.top) + ")");

  //var parseDate = d3.timeParse("%Y-%m-%d %H:%M:%S,%L");
  //var displayDate = d3.timeFormat("%Y-%m-%d %H:%M:%S,%L");

  data_path = 'https://raw.githubusercontent.com/Tridet/KeysViz/master/data.json'
  d3.json(data_path, function(json){
      var elt = g
      var data = json;
      var main_key = 'd3'
      var filter_count = 30
      var w = innerWidth
      var h = innerHeight
      var var_color = 'salmon'

      barchart_left(elt, data, main_key, filter_count, w, h, var_color, false);
      //d3.select("input[value=\"descending\"]").on("click", barchart_left(g, data, 30, innerWidth, innerHeight, "salmon",false));
      //d3.select("input[value=\"alphabetical\"]").on("click", barchart_left(g, data, 30, innerWidth, innerHeight, "salmon",true));

      // title of the ligne chart
      elt.append("text")
          .attr("transform",
              "translate(" + w/2 + " ," + (-h*0.02) + ")")
          .style("text-anchor", "middle")
          .style("font-size", 16)
          .style("font-family", "monospace")
          .text("Key strokes while coding in D3.js");

      var elt_bis = g1
      var main_key_bis = 'philosophy'

      barchart_right(elt_bis, data, main_key_bis, filter_count, w, h, var_color, false);
      //d3.select("input[value=\"descending\"]").on("click", barchart_left(g, data, 30, innerWidth, innerHeight, "salmon",false));
      //d3.select("input[value=\"alphabetical\"]").on("click", barchart_left(g, data, 30, innerWidth, innerHeight, "salmon",true));

      // title of the ligne chart
      elt_bis.append("text")
          .attr("transform",
              "translate(" + w/2 + " ," + (-h*0.02) + ")")
          .style("text-anchor", "middle")
          .style("font-size", 16)
          .style("font-family", "monospace")
          .text("Key strokes while writing a philosophy paper");

  });

  </script>
</div>




<script>
  document.addEventListener("DOMContentLoaded", function (event) {
     navActivePage();
  });
</script>

--> <script type="text/javascript" src="./main.70a66962.js"></script></body>

</html>
